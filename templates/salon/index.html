{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if salon_info %}{{ salon_info.name }}{% else %}–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã{% endif %}</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>




    <nav class="side-nav" id="sideNav">
        <ul>
            <li>
                <a href="#hero" class="nav-dot active" data-section="hero" title="–ì–ª–∞–≤–Ω–∞—è">
                    <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
            </li>
            <li>
                <a href="#about" class="nav-dot" data-section="about" title="–û –Ω–∞—Å">
                    <span class="nav-label">–û –Ω–∞—Å</span>
                </a>
            </li>
            <li>
                <a href="#services" class="nav-dot" data-section="services" title="–£—Å–ª—É–≥–∏">
                    <span class="nav-label">–£—Å–ª—É–≥–∏</span>
                </a>
            </li>
            <li>
                <a href="#masters" class="nav-dot" data-section="masters" title="–ú–∞—Å—Ç–µ—Ä–∞">
                    <span class="nav-label">–ú–∞—Å—Ç–µ—Ä–∞</span>
                </a>
            </li>
            <li>
                <a href="#booking" class="nav-dot" data-section="booking" title="–ó–∞–ø–∏—Å—å">
                    <span class="nav-label">–ó–∞–ø–∏—Å—å</span>
                </a>
            </li>
            <li>
                <a href="#contacts" class="nav-dot" data-section="contacts" title="–ö–æ–Ω—Ç–∞–∫—Ç—ã">
                    <span class="nav-label">–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
                </a>
            </li>
        </ul>
    </nav>




    <main class="sections-container">

        <section id="hero" class="section hero-section">
            <div class="hero-content">
                <h1 class="hero-title">
                    {% if salon_info %}
                        {{ salon_info.name }}
                    {% else %}
                        –°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã
                    {% endif %}
                </h1>
                <p class="hero-tagline">
                    {% if salon_info.tagline %}
                        {{ salon_info.tagline }}
                    {% else %}
                        –í–∞—à–∞ –∫—Ä–∞—Å–æ—Ç–∞ ‚Äî –Ω–∞—à–∞ –∑–∞–±–æ—Ç–∞
                    {% endif %}
                </p>
                <a href="#booking" class="btn btn-primary hero-btn">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –æ–Ω–ª–∞–π–Ω</a>
            </div>

            <div class="scroll-indicator">
                <span>–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑</span>
                <div class="scroll-arrow"></div>
            </div>
        </section>


        <section id="about" class="section about-section">
            <div class="container">
                <h2 class="section-title">–û –Ω–∞—à–µ–º —Å–∞–ª–æ–Ω–µ</h2>
                <div class="about-content">
                    {% if salon_info.about_text %}
                        <p class="about-text">{{ salon_info.about_text|linebreaks }}</p>
                    {% else %}
                        <p class="about-text">
                            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à —Å–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã! –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä —É—Å–ª—É–≥
                            –¥–ª—è –≤–∞—à–µ–π –∫—Ä–∞—Å–æ—Ç—ã –∏ –∑–¥–æ—Ä–æ–≤—å—è. –ù–∞—à–∏ –æ–ø—ã—Ç–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ
                            –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.
                        </p>
                    {% endif %}
                    <div class="about-features">
                        <div class="feature">
                            <div class="feature-icon">‚ú®</div>
                            <h3>–ö–∞—á–µ—Å—Ç–≤–æ</h3>
                            <p>–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">üë©‚Äçüé®</div>
                            <h3>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º</h3>
                            <p>–û–ø—ã—Ç–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞ —Å –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">üíù</div>
                            <h3>–ó–∞–±–æ—Ç–∞</h3>
                            <p>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–∞–∂–¥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section id="services" class="section services-section">
            <div class="container">
                <h2 class="section-title">–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
                <div class="services-grid">
                    {% for category, services_list in services_by_category.items %}
                        <div class="service-category">
                            <h3 class="category-title">{{ category }}</h3>
                            <ul class="services-list">
                                {% for service in services_list %}
                                    <li class="service-item">
                                        <div class="service-info">
                                            <span class="service-name">{{ service.name }}</span>
                                            {% if service.description %}
                                                <span class="service-desc">{{ service.description }}</span>
                                            {% endif %}
                                        </div>
                                        <div class="service-details">
                                            <span class="service-duration">{{ service.duration }} –º–∏–Ω</span>
                                            <span class="service-price">{{ service.price|floatformat:0 }} ‚ÇΩ</span>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% empty %}
                        <p class="no-data">–£—Å–ª—É–≥–∏ —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è</p>
                    {% endfor %}
                </div>
            </div>
        </section>


        <section id="masters" class="section masters-section">
            <div class="container">
                <h2 class="section-title">–ù–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞</h2>
                <div class="masters-grid">
                    {% for master in masters %}
                        <div class="master-card">
                            <div class="master-photo">
                                {% if master.photo %}
                                    <img src="{{ master.photo.url }}" alt="{{ master.name }}">
                                {% else %}
                                    <div class="master-photo-placeholder">
                                        <span>üë§</span>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="master-info">
                                <h3 class="master-name">{{ master.name }}</h3>
                                <p class="master-spec">{{ master.specialization }}</p>
                                <p class="master-exp">–°—Ç–∞–∂: {{ master.experience }} –ª–µ—Ç</p>
                                {% if master.bio %}
                                    <p class="master-bio">{{ master.bio|truncatewords:20 }}</p>
                                {% endif %}
                            </div>
                        </div>
                    {% empty %}
                        <p class="no-data">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Å—Ç–µ—Ä–∞—Ö —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è</p>
                    {% endfor %}
                </div>
            </div>
        </section>


        <section id="booking" class="section booking-section">
            <div class="container">
                <h2 class="section-title">–û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å</h2>
                <p class="section-subtitle">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</p>

                <form id="bookingForm" class="booking-form">
                    {% csrf_token %}

                    <div class="form-row">
                        <div class="form-group">
                            <label for="client_name">–í–∞—à–µ –∏–º—è *</label>
                            <input type="text"
                                   id="client_name"
                                   name="client_name"
                                   required
                                   placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?">
                        </div>
                        <div class="form-group">
                            <label for="client_phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                            <input type="tel"
                                   id="client_phone"
                                   name="client_phone"
                                   required
                                   placeholder="+7 (___) ___-__-__"
                                   pattern="\+?7?\d{10,11}">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="client_email">Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                            <input type="email"
                                   id="client_email"
                                   name="client_email"
                                   placeholder="–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è">
                        </div>
                    </div>


                    <div class="form-row">
                        <div class="form-group">
                            <label for="service">–£—Å–ª—É–≥–∞ *</label>
                            <select id="service" name="service" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</option>
                                {% for service in services %}
                                    <option value="{{ service.id }}"
                                            data-price="{{ service.price }}"
                                            data-duration="{{ service.duration }}">
                                        {{ service.name }} ‚Äî {{ service.price|floatformat:0 }} ‚ÇΩ
                                    </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="master">–ú–∞—Å—Ç–µ—Ä *</label>
                            <select id="master" name="master" required>
                                <option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="date">–î–∞—Ç–∞ *</label>
                            <input type="date"
                                   id="date"
                                   name="date"
                                   required>
                        </div>
                        <div class="form-group">
                            <label for="time">–í—Ä–µ–º—è *</label>
                            <select id="time" name="time" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è</option>

                                <option value="09:00">09:00</option>
                                <option value="10:00">10:00</option>
                                <option value="11:00">11:00</option>
                                <option value="12:00">12:00</option>
                                <option value="13:00">13:00</option>
                                <option value="14:00">14:00</option>
                                <option value="15:00">15:00</option>
                                <option value="16:00">16:00</option>
                                <option value="17:00">17:00</option>
                                <option value="18:00">18:00</option>
                                <option value="19:00">19:00</option>
                                <option value="20:00">20:00</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <textarea id="comment"
                                  name="comment"
                                  rows="3"
                                  placeholder="–í–∞—à–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary btn-submit">
                        –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                    </button>

                    <div id="formMessage" class="form-message"></div>
                </form>
            </div>
        </section>

        <section id="contacts" class="section contacts-section">
            <div class="container">
                <h2 class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
                <div class="contacts-content">
                    <div class="contacts-info">
                        {% if contacts %}
                            <div class="contact-item">
                                <div class="contact-icon">üìç</div>
                                <div class="contact-text">
                                    <strong>–ê–¥—Ä–µ—Å</strong>
                                    <p>{{ contacts.address }}</p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <div class="contact-icon">üìû</div>
                                <div class="contact-text">
                                    <strong>–¢–µ–ª–µ—Ñ–æ–Ω</strong>
                                    <p><a href="tel:{{ contacts.phone }}">{{ contacts.phone }}</a></p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <div class="contact-icon">‚úâÔ∏è</div>
                                <div class="contact-text">
                                    <strong>Email</strong>
                                    <p><a href="mailto:{{ contacts.email }}">{{ contacts.email }}</a></p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <div class="contact-icon">üïê</div>
                                <div class="contact-text">
                                    <strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</strong>
                                    <p>{{ contacts.working_hours }}</p>
                                </div>
                            </div>
                            {% if contacts.vk_link or contacts.instagram_link or contacts.telegram_link %}
                                <div class="social-links">
                                    {% if contacts.vk_link %}
                                        <a href="{{ contacts.vk_link }}" target="_blank" class="social-link">VK</a>
                                    {% endif %}
                                    {% if contacts.instagram_link %}
                                        <a href="{{ contacts.instagram_link }}" target="_blank" class="social-link">Instagram</a>
                                    {% endif %}
                                    {% if contacts.telegram_link %}
                                        <a href="{{ contacts.telegram_link }}" target="_blank" class="social-link">Telegram</a>
                                    {% endif %}
                                </div>
                            {% endif %}
                        {% else %}
                            <p>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è</p>
                        {% endif %}
                    </div>
                    <div class="contacts-map">
                        {% if contacts.map_embed %}
                            {{ contacts.map_embed|safe }}
                        {% else %}
                            <div class="map-placeholder">
                                <p>–ö–∞—Ä—Ç–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </section>

    </main>


    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 {% if salon_info %}{{ salon_info.name }}{% else %}–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã{% endif %}. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>


    <script src="{% static 'js/navigation.js' %}"></script>
    <script src="{% static 'js/booking.js' %}"></script>
</body>
</html>

